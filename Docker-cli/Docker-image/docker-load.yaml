üöÄ What is docker image load?

The command imports a Docker image from a tarball archive back into your local Docker environment.

It restores an image that was previously saved with docker save (or created via docker import).

It rebuilds the image layers and metadata so you can run containers from it.

---
üîç Difference between < and -i in docker load
---
| Method                        | Description                                                                                                                                                              | Example                     |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------- |
| Using `-i` option             | Docker reads the tar archive **directly from the specified file**. Docker handles file reading internally.                                                               | `docker load -i alpine.tar` |
| Using `<` (input redirection) | Docker reads the tar archive from **standard input (stdin)** redirected by the shell from the specified file. The shell handles the file reading and pipes it to Docker. | `docker load < alpine.tar`  |

-----
üìå Details:
-----

----
1. -i option
----

You specify the filename.

Docker opens and reads the file itself.

The command is explicit about the input source.

Works well in all shells and platforms.

-----
2. < input redirection
-----

The shell opens and reads the file.

Redirects the file content into Docker‚Äôs stdin.

Docker reads from stdin.

Less explicit inside Docker CLI but common in shell scripting.

---
üß† Are they equivalent?
---

Yes, both methods load the image from the same file and achieve the same end result.

---
‚ö†Ô∏è When to prefer one over the other?
---
| Situation                              | Recommendation                         |
| -------------------------------------- | -------------------------------------- |
| Simplicity and clarity                 | Use `docker load -i file.tar`          |
| Part of a shell pipeline or script     | Use `docker load < file.tar`           |
| Reading from stdin (e.g., from a pipe) | Use stdin (`docker load` without `-i`) |

üîÑ Examples comparison

i) docker load -i alpine.tar
ii) docker load < alpine.tar

Both will load the image from the alpine.tar archive successfully.

---
EXAMPLES-1 (Basic)
---

# 1Ô∏è‚É£ Pull the alpine:latest image
docker image pull alpine:latest
latest: Pulling from library/alpine
2d35ebdb57d9: Pull complete 
Digest: sha256:4b7ce07002c69e8f3d704a9c5d6fd3053be500b7f1c69fc0d80990c2ad8dd412
Status: Downloaded newer image for alpine:latest
docker.io/library/alpine:latest

# 2Ô∏è‚É£ Save the alpine image to a tar file
docker image save -o s.tar alpine:latest

# 3Ô∏è‚É£ Confirm tar file is created
ls
s.tar

# 4Ô∏è‚É£ Remove the alpine image locally
docker image rm alpine
Untagged: alpine:latest
Untagged: alpine@sha256:4b7ce07002c69e8f3d704a9c5d6fd3053be500b7f1c69fc0d80990c2ad8dd412
Deleted: sha256:706db57fb2063f39f69632c5b5c9c439633fda35110e65587c5d85553fd1cc38
Deleted: sha256:256f393e029fa2063d8c93720da36a74a032bed3355a2bc3e313ad12f8bde9d1

# 5Ô∏è‚É£ Verify no images remain
docker images
REPOSITORY   TAG       IMAGE ID   CREATED   SIZE

# 6Ô∏è‚É£ Load the image back from the tar file
docker image load --input s.tar
256f393e029f: Loading layer [==================================================>]  8.607MB/8.607MB
Loaded image: alpine:latest

# 7Ô∏è‚É£ Verify the image is loaded successfully
docker images
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
alpine       latest    706db57fb206   2 weeks ago   8.32MB

-----------------
Example-2  Load image from stdin (pipe)
-----------------

What is this about?

Instead of loading from a file, you can pipe the image tarball directly into docker load.

Useful for chaining commands, working with compressed files, or streaming images over the network.

# 1Ô∏è‚É£ Verify no images present locally
docker images
REPOSITORY   TAG       IMAGE ID   CREATED   SIZE

# 2Ô∏è‚É£ Confirm the saved tar file exists
ls
s.tar

# 3Ô∏è‚É£ Load the image from tar using a pipe
cat s.tar | docker image load
256f393e029f: Loading layer [==================================================>]  8.607MB/8.607MB
Loaded image: alpine:latest

# 4Ô∏è‚É£ Verify the image is now loaded locally
docker images
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
alpine       latest    706db57fb206   2 weeks ago   8.32MB

----------------------------------
----------------------------------
Differenece between usage of -i, <, and | for docker load
---------------------------------
---------------------------------

Common Usage Patterns:

---
From a file:
---

docker load -i image.tar

This command reads the tar archive from the specified file.

---
From standard input:
---

docker load < image.tar

This command reads the tar archive from standard input, which is useful for piping data from other commands.

---
Using a pipe:
---

cat image.tar | docker load

This command uses a pipe to pass the tar archive to docker load, allowing for more complex workflows.

| Input Source      | Command Syntax            | Supports Compression | Explicit Filename |    |
| ----------------- | ------------------------- | -------------------- | ----------------- | -- |
| File              | `docker load -i file.tar` | Yes                  | Yes               |    |
| Standard Input    | `docker load < file.tar`  | Yes                  | No                |    |
| Pipe from Command | `cat file.tar             | docker load`         | Yes               | No |


+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| Aspect                   | docker load -i <file>        | docker load < <file>        | command | docker load                 |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| How input is provided    | Docker opens the file itself  | Shell opens the file and    | Another command outputs data piped    |
|                          |                              | sends content via stdin     | into Docker stdin                     |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| Who handles file reading | Docker                       | Shell                       | The command before the pipe (|)       |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| Input source type        | Local file                   | Local file                  | Output stream from another command    |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| Explicit filename given? | Yes                          | No                          | No                                    |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| Supports compressed      | No                           | No                          | Yes, if decompression or other command|
| input?                   |                              |                             | used before pipe                      |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| Typical use cases        | Loading saved image tarball  | Quick shell shorthand to    | Loading image from compressed file or |
|                          | from disk                   | load image from disk        | download stream                       |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| Example command          | docker load -i image.tar     | docker load < image.tar     | cat image.tar | docker load             |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| Advantages               | Clear and explicit           | Shorter syntax              | Flexible; supports streaming and      |
|                          |                              |                             | decompression                        |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| Disadvantages            | Slightly longer command      | Less explicit about file    | Requires extra command(s) before pipe |
|                          |                              | source                      |                                       |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+
| When to use              | When loading directly from   | Quick local file load in    | When loading from compressed data or  |
|                          | a file                      | shell                       | remote source                        |
+--------------------------+------------------------------+-----------------------------+---------------------------------------+

Visual summary:

+--------------------------+-----------------+------------------+------------------------+
| Input type               | -i (input flag) | < (input redirect)| | (pipe from command)    |
+--------------------------+-----------------+------------------+------------------------+
| File on disk             | ‚úîÔ∏è Docker reads  | ‚úîÔ∏è Shell reads    | ‚ùå                      |
+--------------------------+-----------------+------------------+------------------------+
| Output from command      | ‚ùå              | ‚ùå                | ‚úîÔ∏è                      |
+--------------------------+-----------------+------------------+------------------------+
| Supports compressed input| ‚ùå              | ‚ùå                | ‚úîÔ∏è                      |
+--------------------------+-----------------+------------------+------------------------+
| Explicit filename given  | ‚úîÔ∏è              | ‚ùå                | ‚ùå                      |
+--------------------------+-----------------+------------------+------------------------+


-----------------------
-----------------------
Example-3 < (Input Redirection) in Docker load
-----------------------
-----------------------

What is < in the shell?

< is a shell input redirection operator.

It tells the shell to take the contents of a file and send it as the standard input (stdin) to a command.

---
How does it work with Docker commands?
---

docker load < image.tar (Input redirection)

Step 1: The shell sees < image.tar and opens the file image.tar.

Step 2: The shell reads the contents of image.tar.

Step 3: The shell feeds the contents of image.tar into the stdin stream of the docker load process.

Step 4: The docker load command reads the image data from its stdin.

Step 5: Docker processes this input tarball and reconstructs the Docker image inside the local Docker engine.

Step 6: When done, the image is available locally.